const _0x1b5698=_0x23fb;(function(_0x11c34f,_0x119e42){const _0x592b8d=_0x23fb,_0x4a125e=_0x11c34f();while(!![]){try{const _0x19bc37=-parseInt(_0x592b8d(0xc9))/0x1+parseInt(_0x592b8d(0xe4))/0x2*(parseInt(_0x592b8d(0xb2))/0x3)+parseInt(_0x592b8d(0xc6))/0x4*(-parseInt(_0x592b8d(0xcc))/0x5)+parseInt(_0x592b8d(0xc7))/0x6+-parseInt(_0x592b8d(0xc3))/0x7*(-parseInt(_0x592b8d(0xd0))/0x8)+parseInt(_0x592b8d(0xc8))/0x9*(-parseInt(_0x592b8d(0xb4))/0xa)+parseInt(_0x592b8d(0xb5))/0xb;if(_0x19bc37===_0x119e42)break;else _0x4a125e['push'](_0x4a125e['shift']());}catch(_0x107967){_0x4a125e['push'](_0x4a125e['shift']());}}}(_0x3f45,0xb04a4));const readline=require('readline'),colors=require(_0x1b5698(0xba)),logger=require(_0x1b5698(0xd7)),CountdownTimer=require(_0x1b5698(0xdf)),WebSocketClient=require('./src/modules/wsClient'),{showMenu}=require('./src/modules/menu'),{getToken,getAddress,printDivider,formatTime}=require(_0x1b5698(0xe0)),{generateToken,checkAppVersion,getUserInfo,getClaimDetails,getStreakInfo,claimReward}=require(_0x1b5698(0xb1)),rl=readline[_0x1b5698(0xce)]({'input':process['stdin'],'output':process['stdout']});async function startCountdown(_0x368ed9){const _0x22fe16=_0x1b5698;try{const _0x332d21=new Date()[_0x22fe16(0xda)](),_0x7dc839=new Date(_0x368ed9)['getTime'](),_0x2492bd=Math[_0x22fe16(0xd8)]((_0x7dc839-_0x332d21)/0x3e8);if(_0x2492bd>0x0){const _0x1829ed=new CountdownTimer({'message':'Next\x20claim\x20in:\x20','format':_0x22fe16(0xd6)});await _0x1829ed[_0x22fe16(0xb8)](_0x2492bd);}return _0x2492bd>0x0?_0x2492bd*0x3e8:0x0;}catch(_0x43efa8){return logger[_0x22fe16(0xe2)](colors[_0x22fe16(0xe2)]+_0x22fe16(0xe1)+_0x43efa8['message']+colors[_0x22fe16(0xd5)]),0x3c*0x3c*0x3e8;}}function _0x3f45(){const _0x3a9d02=['warn','1512216QGcyrm','status','Starting\x20Heartbeat...','Failed\x20to\x20get\x20claim\x20details.\x20Retrying\x20in\x201\x20hour...','message','reset','HH:mm:ss','./src/helper/logger','floor','close','getTime','Auto\x20claim\x20process\x20failed:\x20','exit','Token\x20generated\x20successfully','Failed\x20to\x20get\x20user\x20info.\x20Retrying\x20in\x201\x20hour...','./src/helper/countdown','./src/modules/utils','Countdown\x20error:\x20','error','Failed\x20to\x20get\x20streak\x20info.\x20Retrying\x20in\x201\x20hour...','172pOYWOk','Failed\x20to\x20get\x20app\x20version\x20info.\x20Aborting...','▸\x20Next\x20Claim\x20:\x20','[CLAIM\x20STATUS]','./src/api/api','19590AwUHYZ','SUCCESS','10877530xyBxHs','8331631JwWGwq','faucetWait','nextClaim','start','Failed\x20to\x20generate\x20token,\x20retrying\x20in\x203s...','./src/helper/colors','SIGINT','Invalid\x20option.\x20Please\x20try\x20again.','success','info','data','Starting\x20Auto\x20Claim...','App\x20is\x20under\x20maintenance.\x20Please\x20try\x20again\x20later.','faucetInfo','42NvooVi','Program\x20failed:\x20','claimed','3280lCibdT','460122rYzRBU','9AAhrzG','496973pypILr','Exiting...','warning','1360xAGObc','under_maintenance','createInterface'];_0x3f45=function(){return _0x3a9d02;};return _0x3f45();}function _0x23fb(_0x14aa01,_0x30d1d6){const _0x3f45ed=_0x3f45();return _0x23fb=function(_0x23fb26,_0x17cb1e){_0x23fb26=_0x23fb26-0xae;let _0x22a54c=_0x3f45ed[_0x23fb26];return _0x22a54c;},_0x23fb(_0x14aa01,_0x30d1d6);}async function startHeartbeat(){const _0x34b783=_0x1b5698,_0x15ecd9=getToken(),_0x413896=await checkAppVersion(_0x15ecd9);if(!_0x413896){logger[_0x34b783(0xe2)](colors['error']+_0x34b783(0xae)+colors[_0x34b783(0xd5)]);return;}if(_0x413896[_0x34b783(0xcd)]){logger['error'](colors[_0x34b783(0xe2)]+_0x34b783(0xc1)+colors[_0x34b783(0xd5)]);return;}const _0x442a8c=getAddress();let _0x833663=await generateToken(_0x442a8c);while(!_0x833663?.['token']){logger[_0x34b783(0xcf)](colors[_0x34b783(0xcb)]+_0x34b783(0xb9)+colors[_0x34b783(0xd5)]),await new Promise(_0x49ae27=>setTimeout(_0x49ae27,0xbb8)),_0x833663=await generateToken(_0x442a8c);}logger[_0x34b783(0xbd)](colors[_0x34b783(0xbd)]+_0x34b783(0xdd)+colors['reset']);const _0x10aca2=new WebSocketClient(_0x833663['token'],_0x442a8c);_0x10aca2['connect'](),process['on'](_0x34b783(0xbb),()=>{const _0x249291=_0x34b783;_0x10aca2[_0x249291(0xd9)](),process[_0x249291(0xdc)](0x0);});}async function runAutoClaim(){const _0x28a7f4=_0x1b5698,_0x39ee29=getToken();logger['info'](colors['menuOption']+'▸\x20Time\x20\x20\x20\x20\x20\x20\x20:\x20'+colors[_0x28a7f4(0xbe)]+formatTime(new Date())+colors['reset']);try{const _0x1714fc=await getUserInfo(_0x39ee29);if(!_0x1714fc)return logger[_0x28a7f4(0xe2)](colors['error']+_0x28a7f4(0xde)+colors[_0x28a7f4(0xd5)]),0x3c*0x3c*0x3e8;const _0xfa5034=await getClaimDetails(_0x39ee29);if(!_0xfa5034)return logger[_0x28a7f4(0xe2)](colors['error']+_0x28a7f4(0xd3)+colors['reset']),0x3c*0x3c*0x3e8;const _0x2f1624=await getStreakInfo(_0x39ee29);if(!_0x2f1624)return logger[_0x28a7f4(0xe2)](colors[_0x28a7f4(0xe2)]+_0x28a7f4(0xe3)+colors[_0x28a7f4(0xd5)]),0x3c*0x3c*0x3e8;if(!_0xfa5034[_0x28a7f4(0xbf)][_0x28a7f4(0xc5)]){const _0x33c345=await claimReward(_0x39ee29);if(_0x33c345?.[_0x28a7f4(0xd1)]===_0x28a7f4(0xb3))return startCountdown(_0x33c345['data'][_0x28a7f4(0xb7)]);return 0x3c*0x3c*0x3e8;}else return printDivider(),logger[_0x28a7f4(0xcf)](colors[_0x28a7f4(0xb6)]+_0x28a7f4(0xb0)+colors[_0x28a7f4(0xd5)]),logger[_0x28a7f4(0xbe)](colors[_0x28a7f4(0xc2)]+'▸\x20Status\x20\x20\x20\x20\x20:\x20'+colors['faucetWait']+'Already\x20claimed\x20today'+colors[_0x28a7f4(0xd5)]),logger[_0x28a7f4(0xbe)](colors[_0x28a7f4(0xc2)]+_0x28a7f4(0xaf)+colors[_0x28a7f4(0xb6)]+formatTime(_0xfa5034[_0x28a7f4(0xbf)][_0x28a7f4(0xb7)])+colors[_0x28a7f4(0xd5)]),startCountdown(_0xfa5034['data']['nextClaim']);}catch(_0x6489e){return logger['error'](colors[_0x28a7f4(0xe2)]+_0x28a7f4(0xdb)+_0x6489e[_0x28a7f4(0xd4)]+colors[_0x28a7f4(0xd5)]),0x3c*0x3c*0x3e8;}}async function startAutoClaimLoop(){while(!![]){const _0x2efac3=await runAutoClaim();await new Promise(_0x2ba056=>setTimeout(_0x2ba056,_0x2efac3));}}async function main(){const _0x24bf9e=_0x1b5698;while(!![]){const _0x2ab000=await showMenu(rl);switch(_0x2ab000){case'1':logger['info'](colors[_0x24bf9e(0xbe)]+_0x24bf9e(0xc0)+colors[_0x24bf9e(0xd5)]),await startAutoClaimLoop();break;case'2':logger[_0x24bf9e(0xbe)](colors[_0x24bf9e(0xbe)]+_0x24bf9e(0xd2)+colors[_0x24bf9e(0xd5)]),await startHeartbeat();break;case'3':logger['info'](colors['info']+_0x24bf9e(0xca)+colors[_0x24bf9e(0xd5)]),rl[_0x24bf9e(0xd9)](),process[_0x24bf9e(0xdc)](0x0);break;default:logger[_0x24bf9e(0xe2)](colors['error']+_0x24bf9e(0xbc)+colors['reset']);break;}if(_0x2ab000==='1'||_0x2ab000==='2')break;}}main()['catch'](_0x42bd6b=>{const _0x55cf57=_0x1b5698;logger['error'](colors[_0x55cf57(0xe2)]+_0x55cf57(0xc4)+_0x42bd6b[_0x55cf57(0xd4)]+colors[_0x55cf57(0xd5)]),process[_0x55cf57(0xdc)](0x1);});