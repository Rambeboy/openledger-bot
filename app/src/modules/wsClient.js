function _0x2a32(_0x5f0684,_0x2020db){const _0x14f2d=_0x14f2();return _0x2a32=function(_0x2a3230,_0x111997){_0x2a3230=_0x2a3230-0xc8;let _0x302dbf=_0x14f2d[_0x2a3230];return _0x302dbf;},_0x2a32(_0x5f0684,_0x2020db);}const _0x3d2157=_0x2a32;(function(_0x25f548,_0x4dfddc){const _0x5e4f0f=_0x2a32,_0xbe9506=_0x25f548();while(!![]){try{const _0x42d335=parseInt(_0x5e4f0f(0xe1))/0x1+-parseInt(_0x5e4f0f(0xeb))/0x2*(-parseInt(_0x5e4f0f(0xef))/0x3)+-parseInt(_0x5e4f0f(0xd7))/0x4*(-parseInt(_0x5e4f0f(0xd5))/0x5)+-parseInt(_0x5e4f0f(0xdf))/0x6+parseInt(_0x5e4f0f(0xff))/0x7+-parseInt(_0x5e4f0f(0x108))/0x8*(-parseInt(_0x5e4f0f(0xcc))/0x9)+-parseInt(_0x5e4f0f(0xd1))/0xa;if(_0x42d335===_0x4dfddc)break;else _0xbe9506['push'](_0xbe9506['shift']());}catch(_0x58c041){_0xbe9506['push'](_0xbe9506['shift']());}}}(_0x14f2,0x59601));const WebSocket=require('ws'),crypto=require(_0x3d2157(0xe7)),colors=require('../helper/colors'),logger=require(_0x3d2157(0xc9)),{WS_URL,WS_HEADERS}=require('./constants'),{generateRandomCapacity,printDivider}=require(_0x3d2157(0xd2));class WebSocketClient{constructor(_0x2eaf4a,_0x5b5f71){const _0x477e65=_0x3d2157;this[_0x477e65(0xea)]=WS_URL+'?authToken='+_0x2eaf4a,this['ws']=null,this[_0x477e65(0x107)]=!![],this[_0x477e65(0x106)]=null,this[_0x477e65(0xe3)]=![],this[_0x477e65(0xca)]=_0x5b5f71,this['identity']=Buffer[_0x477e65(0xd3)](_0x5b5f71)['toString'](_0x477e65(0xf6)),this['capacity']=generateRandomCapacity(),this['id']=crypto[_0x477e65(0xf4)](),this[_0x477e65(0x105)]={'message':{'Worker':{'Identity':this[_0x477e65(0xfb)],'ownerAddress':this[_0x477e65(0xca)],'type':_0x477e65(0x103),'Host':_0x477e65(0xd8)},'Capacity':this[_0x477e65(0xf9)]},'msgType':_0x477e65(0xdc),'workerType':_0x477e65(0x103),'workerID':this[_0x477e65(0xfb)]},this[_0x477e65(0xee)]={'workerID':this[_0x477e65(0xfb)],'msgType':_0x477e65(0xfa),'workerType':_0x477e65(0x103),'message':{'id':this['id'],'type':_0x477e65(0xfa),'worker':{'host':'chrome-extension://ekbbplmjjgoobhdlffmgeokalelnmjjc','identity':this[_0x477e65(0xfb)],'ownerAddress':this[_0x477e65(0xca)],'type':'LWEXT'}}};}['loadJobData']=async _0x1ccac7=>{const _0x16477d=_0x3d2157;_0x1ccac7?.[_0x16477d(0xf2)]===_0x16477d(0xe5)&&this[_0x16477d(0xde)]({'workerID':this[_0x16477d(0xfb)],'msgType':_0x16477d(0xfc),'workerType':_0x16477d(0x103),'message':{'Status':!![],'Ref':_0x1ccac7?.[_0x16477d(0xdb)]}});};['connect'](){const _0x51e63c=_0x3d2157;return this['ws']=new WebSocket(this[_0x51e63c(0xea)],{'headers':WS_HEADERS}),this['ws']['on']('open',()=>{const _0x3c9954=_0x51e63c;logger[_0x3c9954(0xcf)](colors[_0x3c9954(0xcf)]+_0x3c9954(0xf8)+colors[_0x3c9954(0xe8)]),printDivider(),!this[_0x3c9954(0xe3)]&&(logger[_0x3c9954(0x102)](colors['info']+_0x3c9954(0xdd)+colors[_0x3c9954(0xe8)]),this[_0x3c9954(0xde)](this['regWorkerID']),this[_0x3c9954(0xe3)]=!![]),this[_0x3c9954(0x106)]=setInterval(()=>{const _0x100f2d=_0x3c9954;logger[_0x100f2d(0x102)](colors[_0x100f2d(0x102)]+_0x100f2d(0xe9)+colors[_0x100f2d(0xe8)]),this[_0x100f2d(0xde)](this[_0x100f2d(0x105)]);},0x1e*0x3e8);}),this['ws']['on'](_0x51e63c(0xe2),_0x7678f5=>{const _0x16ed2b=_0x51e63c;try{const _0x487a34=JSON[_0x16ed2b(0xe0)](_0x7678f5);if(_0x487a34?.[_0x16ed2b(0xf2)]===_0x16ed2b(0xe5))this[_0x16ed2b(0xf7)](_0x487a34);else _0x487a34&&_0x487a34[_0x16ed2b(0x104)]&&logger['info'](colors[_0x16ed2b(0x102)]+_0x16ed2b(0xe6)+JSON[_0x16ed2b(0xd9)](_0x487a34[_0x16ed2b(0x104)])+colors[_0x16ed2b(0xe8)]);if(_0x487a34[_0x16ed2b(0xda)]&&_0x487a34[_0x16ed2b(0xfd)]===_0x16ed2b(0xfa)){const _0x8b5d7c=_0x487a34[_0x16ed2b(0xcd)];logger['info'](colors[_0x16ed2b(0x102)]+'[WORKER\x20REGISTRATION]'+colors[_0x16ed2b(0xe8)]),logger[_0x16ed2b(0x102)](colors[_0x16ed2b(0x102)]+_0x16ed2b(0xf5)+colors['accountName']+_0x487a34[_0x16ed2b(0xda)]+colors[_0x16ed2b(0xe8)]),logger[_0x16ed2b(0x102)](colors[_0x16ed2b(0x102)]+_0x16ed2b(0xd4)+colors[_0x16ed2b(0x100)]+_0x8b5d7c[_0x16ed2b(0xf0)]+colors[_0x16ed2b(0xe8)]),logger[_0x16ed2b(0x102)](colors[_0x16ed2b(0x102)]+'▸\x20Host\x20\x20\x20\x20\x20\x20\x20:\x20'+colors[_0x16ed2b(0x100)]+_0x8b5d7c[_0x16ed2b(0xe4)]+colors[_0x16ed2b(0xe8)]),printDivider();}}catch(_0x31e1ce){logger[_0x16ed2b(0xcb)](colors[_0x16ed2b(0xcb)]+_0x16ed2b(0xd0)+_0x31e1ce[_0x16ed2b(0xe2)]+colors['reset']);}}),this['ws']['on'](_0x51e63c(0xcb),_0x34337a=>{const _0x3c2480=_0x51e63c;logger[_0x3c2480(0xcb)](colors[_0x3c2480(0xcb)]+_0x3c2480(0xd6)+_0x34337a[_0x3c2480(0xe2)]+colors[_0x3c2480(0xe8)]),printDivider();}),this['ws']['on'](_0x51e63c(0xec),(_0x1bfcf8,_0x559682)=>{const _0x1a024f=_0x51e63c;logger[_0x1a024f(0xf3)](colors[_0x1a024f(0xfe)]+'[WEBSOCKET]\x20Connection\x20closed\x20('+_0x1bfcf8+'):\x20'+_0x559682+colors[_0x1a024f(0xe8)]),printDivider(),clearInterval(this[_0x1a024f(0x106)]),this[_0x1a024f(0x107)]&&(logger[_0x1a024f(0x102)](colors[_0x1a024f(0x102)]+_0x1a024f(0xed)+colors['reset']),setTimeout(()=>this[_0x1a024f(0x101)](),0x1388));}),this;}[_0x3d2157(0xde)](_0x396898){const _0x1ccaf2=_0x3d2157;this['ws']&&this['ws']['readyState']===WebSocket[_0x1ccaf2(0xce)]?this['ws'][_0x1ccaf2(0xc8)](JSON[_0x1ccaf2(0xd9)](_0x396898)):logger[_0x1ccaf2(0xcb)](colors[_0x1ccaf2(0xcb)]+'WebSocket\x20connection\x20is\x20not\x20open,\x20cannot\x20send\x20message'+colors['reset']);}[_0x3d2157(0xec)](){const _0x9f65ce=_0x3d2157;this['ws']&&(this['ws'][_0x9f65ce(0xec)](),this[_0x9f65ce(0x107)]=![]);}}function _0x14f2(){const _0x24bd5d=['host','JOB','[WEBSOCKET]\x20Message\x20received:\x20','crypto','reset','Sending\x20heartbeat...','url','183298mnCNrL','close','Reconnecting\x20in\x205\x20seconds...','regWorkerID','9eqrgrR','type','exports','MsgType','warn','randomUUID','▸\x20ID\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20','base64','loadJobData','[WEBSOCKET]\x20Connected\x20successfully','capacity','REGISTER','identity','JOB_ASSIGNED','msgType','warning','4546808RGyExs','accountName','connect','info','LWEXT','data','heartbeat','intervalId','reconnect','1240BjtDia','send','../helper/logger','address','error','16083wdZFot','worker','OPEN','success','Failed\x20to\x20parse\x20message:\x20','11250420UwuGwM','./utils','from','▸\x20Type\x20\x20\x20\x20\x20\x20\x20:\x20','999665gJmzUP','[WEBSOCKET]\x20Error:\x20','4yYeant','chrome-extension://ekbbplmjjgoobhdlffmgeokalelnmjjc','stringify','workerId','UUID','HEARTBEAT','Trying\x20to\x20register\x20worker\x20ID...','sendMessage','2145216TiDMmV','parse','447250nSvZtW','message','registered'];_0x14f2=function(){return _0x24bd5d;};return _0x14f2();}module[_0x3d2157(0xf1)]=WebSocketClient;